# User Flows

## Phased Launch

### Phase 1: Waitlist
```
User visits www.teamshots.vip
â†“
See value prop + "Coming Soon"
â†“
Enter email to join waitlist
â†“
Confirmation: "Thanks! We'll notify you when we launch"
â†“
Receive email: "You're on the waitlist"
```

### Phase 2: Full Product
All flows below become active.

---

## 1. First-Time User Journey (Post-Waitlist Launch)

### Step 1: Landing Page (www.teamshots.vip)
```
User visits site
â†“
Auto-detect browser language (EN or ES)
- If browser = Spanish â†’ Show Spanish
- Otherwise â†’ Show English
â†“
See value prop: "Professional team photos in 60 seconds"
â†“
Language switcher in header (if user wants to change)
â†“
CTA: "Get Started" or "See How It Works"
```

### Step 2: Sign Up (redirects to app.teamshots.vip)
```
Click "Get Started"
â†"
Redirect to app.teamshots.vip/auth/signin
â†"
Sign up with email/password
- Enter email
- Create password
- Confirm password
â†"
OTP sent to email â†' user enters OTP
â†"
After verification:
- Firstname
- Personal or Team? (radio buttons)
- If Team:
  - Team website URL
  - Domain verification check (email domain vs team domain)
  - If mismatch: Request team email â†' OTP verification
â†"
Language preference auto-set from current selection
â†"
Redirect to onboarding
â†"
Background: If team, scrape team team page â†' extract names/photos
```

### Team Invite Flow
```
Admin creates team context (background, logo, style)
â†"
Admin invites team member with email + credit allocation
â†"
System sends email with 24hr invite link
â†"
Team member clicks link (no signup required)
â†"
Team member enters first/last name
â†"
System creates Person record + CreditTransaction (allocates credits)
â†"
Team member can immediately upload selfie and generate photos
â†"
If team member signs up later, User account links to existing Person
```

**Note:** OAuth (Google, GitHub) will be added post-MVP for faster authentication.

### Step 3: Onboarding
```
Welcome screen
- Brief explanation (3 slides or 30s video)
- "Try with sample photo" option

â†“
Guided first generation
- Tooltip: "Upload any photo"
- Tooltip: "Choose a style"
- Tooltip: "This will use 3-4 credits"

â†“
First successful generation
â†“
Celebration moment: "Great! Your first professional photo"
â†“
"Add payment method to continue"
```

### Step 4: Payment Setup
```
Add payment method (Stripe)
â†“
Choose plan or buy credits
â†“
Redirect to dashboard
```

## 2. Core Generation Flow

### Happy Path
```
Dashboard
â†"
"Generate New Photo" button
â†"
Upload photo
- Drag-drop or file picker
- Show preview
- Validate (face detection)
â†"
GENERATION TYPE SELECTION
"How would you like to use this photo?"
- Personal Use: Individual credits, full control, private
- Team Use: Team credits, preset styles, admin visible
â†"
Customize (based on selection)
- Personal: Select style preset, background, logo options
- Team: Use team context (background, logo, style preset)
- Show cost: "Uses 4 credits (1 generation)"
â†"
Click "Generate"
â†"
Processing screen (up to 60s)
- Progress bar
- "Generating your professional photos..."
â†"
Review variations (3-4 images)
- Side-by-side view
- Click for large preview
â†"
Actions:
- "Download" â†' Get high-res file
- "Regenerate" â†' Adjust settings, uses 4 more credits
- "Cancel" â†' Return to dashboard
```

### Error States
```
Insufficient credits
â†“
"You need 4 credits for this generation."
- Show current balance
- "Buy more credits" or "Subscribe" button
â†“
Redirect to purchase page

OR

Generation failed
â†“
"Something went wrong. Your 4 credits have been refunded." (translated)
â†“
"Try again" button

OR

Upload validation failed
â†“
"Please upload a clear photo with a visible face" (translated)
â†“
Return to upload
```

## 3. Login Flow

```
Email + password OR magic link option
â†"
If magic link: Send link â†' click â†' auto-login
â†"
Redirect to dashboard
```

## 4a. Team Member Invite & Upload Flow (Token-Based)

```
Admin sends invite link with 24hr token + credit allocation
â†'
Team member clicks link (no signup required)
â†'
Token validation (if expired: send new token to email)
â†'
Upload selfie
- Face validation
- Image quality check
â†'
GENERATION TYPE SELECTION
"How would you like to use this photo?"
- Personal Use: Individual credits, full control, private
- Team Use: Team credits, preset styles, admin visible
â†'
Processing with selected context
- Personal: Full style control
- Team: Background, logo, clothing, expression (set by admin)
â†'
APPROVAL SCREEN
"Review your generated photo"
- Show generated photo
- Show logo placement variations (if team)
- Display remaining credits (both individual & team)
â†'
Actions:
- "Approve & Save" â†' Photo saved to database
- "Regenerate" â†' Costs 1 credit from selected source
- "Sign up for personal use" â†' CTA to create account
â†'
If rejected: Original selfie kept, generated photo deleted
```

## 4b. Team Admin Setup & Management Flow

```
Admin logs in â†' Dashboard
â†'
"Create Team Photo Project" CTA
â†'
STEP 1: Context Setup (Required before inviting)
- Upload custom background image OR select preset
- Upload logo (system auto-removes background)
- Set clothing style: Formal / Casual / Swag
- Set expression: Happy / Serious / Funny / Powerpose
- Preview combinations
â†'
STEP 2: Team Invitations
- Import from scraped team data OR manually enter emails
- Set credit allocation per member (default: 5 credits)
- Send invites with 24hr tokens
â†'
ADMIN DASHBOARD
- View team progress (uploaded/pending/approved)
- Adjust individual credits
- View approved photos only
- "Regenerate All with New Context" (uses team credit pool)
- Create additional contexts for different styles
```

## 4. Team Photo Workflow

See ## 4a and ## 4b for detailed team workflows.

### Token-Based Team Invites
- 24hr expiration with automatic renewal
- No signup required for team members
- CTAs to sign up for personal use during/after generation
- Same uploaded photo can be used for both personal and team generations

### Generation Type Selection
- **Personal Use**: Individual credits, full style control, private photos
- **Team Use**: Team credits, preset styles, admin visible
- Clear credit cost display (4 credits per generation)
- Both credit types shown in sidebar and decision screen

## 5. Returning User Flow

```
Login
â†"
Dashboard
- Credit balance: "87 credits (21 generations)"
- "Generate New Photo" CTA
- Gallery of previous generations
- Subscription status (if subscribed)
â†“
Generate new photo (same as core flow)
OR
View history
OR
Manage account/subscription
OR
Buy more credits
```

## 4. Credit Purchase Flows

### Try Once Purchase
```
User needs to try the service
â†"
Click "Try Once" (see Business Model for pricing)
â†"
Stripe checkout
â†"
Payment confirmation
â†"
Credits added to account
â†"
Email receipt
â†"
Redirect to generation flow
```

### Subscription Purchase
```
User wants ongoing access
â†"
View pricing page (see Business Model for detailed pricing tiers)
â†"
Select tier and period (monthly/annual)
â†"
Stripe checkout
â†"
Subscription confirmed
â†"
Credits added monthly
â†"
Email confirmation
â†"
Dashboard
```

### Top-up Purchase
```
User runs low on credits
â†"
"Buy More Credits" or prompted during generation
â†"
Select amount (see Business Model for pricing tiers and minimums)
â†"
Stripe checkout
â†"
Credits added immediately
â†"
Return to generation flow or dashboard
```

## 5. Subscription Management Flow

```
Dashboard â†’ "Manage Subscription"
â†“
View current plan
- Credits included
- Next billing date
- Usage this month
â†“
Actions:
- Upgrade plan
- Downgrade plan
- Cancel subscription
- Update payment method
â†“
Confirmation
â†“
Email notification
```

## 6. Admin Flows (If Needed)

### User Management
```
Admin dashboard
â†“
View all users
- Search/filter
- See credit balance, usage
â†“
Actions:
- Grant bonus credits
- View user's generations
- Suspend account (if needed)
```

## Key Screens Required

**Note:** All screens must support EN/ES with next-intl

1. **Landing Page** - Marketing, value prop
2. **Sign Up/Login** - Auth.js integration (email/password + OAuth)
3. **Onboarding** - Welcome flow
4. **Dashboard** - Credit balance, CTA, history
5. **Upload** - Photo upload interface
6. **Customize** - Style/background selection
7. **Processing** - Loading state
8. **Review** - View variations
9. **Payment** - Add payment method
10. **Purchase** - Buy credits
11. **Settings** - Account, billing, subscription, language preference
12. **History** - Past generations

## Navigation

### Marketing Site (www.teamshots.vip)
```
Header: Logo | Features | Pricing | Language (EN/ES) | Login | Sign Up
```

### Application (app.teamshots.vip - logged in only)
```
Header: Logo | Dashboard | History | 87 credits (21 gen) | Language (EN/ES) | Profile
```

## Decision Points

### When to Show Credit Cost?
**Always visible:**
- During customization: "Uses 4 credits (1 generation)"
- Before generation: Confirm button shows "Generate (4 credits)"
- If insufficient: Block action, show "Get X more credits"

### When to Block Generation?
- No credits remaining
- Insufficient credits for requested generation (need 4)

### When to Show Upsell?
- After Try Once: "Subscribe to keep creating"
- Low credits (<8): "Running low - buy more or subscribe"
- Starter user buying top-ups frequently: "Upgrade to Pro for cheaper top-ups"