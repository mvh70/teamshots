---
description: Guidelines for maintaining comprehensive up-to-date documentation. Apply these rules when adding new features, researching solutions, or updating project documentation to ensure consistency and avoid information duplication.
globs: docs/**/*.md, README.md, **/README.md, .taskmaster/docs/**/*.md
alwaysApply: true
---
# Documentation Maintenance

## Core Rules
1. **Only update docs when**: something is wrong, changed, or a new feature requires it
2. **Never duplicate**: Keep each piece of information in exactly one file
3. **Preserve content**: Add/improve, never delete without explicit permission
4. **Write objectively**: State requirements and capabilities, not implementation history

## Documentation Hierarchy

| File | Contains | Update When |
|------|----------|-------------|
| `docs/teamshots_prd.md` | Business requirements, MVP scope, timeline | New features, scope changes |
| `docs/features.md` | Feature specs, style presets, performance requirements | Feature changes, new specs |
| `docs/infra.md` | Tech stack, API endpoints, database schema, env vars | Architecture, API, schema changes |
| `docs/user_flows/` | User journeys, screen flows | New flows, navigation changes |
| `docs/business_model/` | Pricing, credits, revenue | Pricing/credit system changes |
| `docs/value_proposition.md` | Target users, positioning | Market/audience changes |
| `docs/getting_started.md` | Setup, dependencies, dev workflow | Setup/dependency changes |
| `README.md` | Quick start, project overview | Project essentials only |

## Writing Style

✅ **Objective (Requirements)**:
- "System validates face detection before upload"
- "Generate 4 variations per upload (4 credits)"
- "Track credit balance with real-time updates"

❌ **Avoid (Implementation History)**:
- "We added face validation last week"
- "We're building the 4-variation feature"
- "We integrated Stripe for payments"

## Update Checklist
- [ ] Change is necessary (wrong/changed/missing)
- [ ] Correct file per hierarchy
- [ ] No duplication with other docs
- [ ] Existing content preserved
- [ ] Written as requirements, not history
- [ ] Cross-references updated if needed

## Permission Required For
- Deleting existing content
- Major restructuring
- Deprecating documented features

**Default action**: If unsure whether to update, don't. Ask first.